<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Curator | AI-Powered Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-4xl mx-auto">

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">
                The Curator</h1>
            <p class="text-gray-400 mt-2">Your personal AI guide to mastering any subject.</p>
        </header>

        <!-- Main Content Area -->
        <main id="main-content" class="w-full">

            <!-- Input Section -->
            <section id="input-section" class="bg-gray-800 p-8 rounded-2xl shadow-2xl">
                <h2 class="text-2xl font-semibold text-center mb-6">What do you want to learn today?</h2>
                <div class="flex flex-col sm:flex-row gap-4">
                    <input type="text" id="topic-input"
                        class="flex-grow bg-gray-700 border border-gray-600 text-white placeholder-gray-400 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
                        placeholder="e.g., 'Quantum Entanglement'">
                    <button id="curate-button"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 shadow-lg">Curate
                        Lesson</button>
                </div>
            </section>

            <!-- Loading/Processing Indicator -->
            <section id="loading-indicator" class="hidden text-center p-8 my-8">
                <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-700 h-24 w-24 mx-auto mb-4">
                </div>
                <p id="loading-message" class="text-lg text-gray-300">Building your custom lesson...</p>
            </section>

            <!-- Lesson Level Selection -->
            <section id="level-selection" class="hidden my-8">
                <h2 class="text-3xl font-bold text-center mb-6">Choose Your Learning Path</h2>
                <div id="level-buttons-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Level buttons will be dynamically inserted here -->
                </div>
            </section>

            <!-- The Learning Canvas -->
            <section id="learning-canvas-container" class="hidden bg-black rounded-2xl shadow-2xl overflow-hidden">
                <div class="relative w-full" style="padding-bottom: 56.25%;"> <!-- 16:9 Aspect Ratio -->
                    <canvas id="lessonCanvas" class="absolute top-0 left-0 w-full h-full"></canvas>
                    <!-- The video element is conceptually here but not visible. We draw its frames to the canvas. -->
                    <video id="lessonVideo" class="absolute top-0 left-0 w-full h-full opacity-0 pointer-events-none"
                        controls></video>
                </div>

                <!-- Control Bar -->
                <div id="control-bar"
                    class="bg-gray-800/50 backdrop-blur-sm p-4 flex flex-col md:flex-row items-center gap-4">
                    <button id="play-pause-button"
                        class="bg-gray-700 hover:bg-gray-600 text-white font-bold p-3 rounded-full transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path id="play-icon"
                                d="M4.018 14.386L14.63 8.139a.5.5 0 000-.812L4.018 1.071a.5.5 0 00-.77.406v12.45a.5.5 0 00.77.459z">
                            </path>
                            <path id="pause-icon" class="hidden"
                                d="M4 2.75C4 2.336 4.336 2 4.75 2h2.5C7.664 2 8 2.336 8 2.75v10.5A.75.75 0 017.25 14h-2.5A.75.75 0 014 13.25V2.75zm6 0c0-.414.336-.75.75-.75h2.5c.414 0 .75.336.75.75v10.5a.75.75 0 01-.75.75h-2.5a.75.75 0 01-.75-.75V2.75z">
                            </path>
                        </svg>
                    </button>
                    <button id="next-segment-button"
                        class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition">Next
                        Segment</button>

                    <div class="flex-grow text-center md:text-left">
                        <p class="text-sm text-gray-400">Current Topic:</p>
                        <p id="current-topic-display" class="font-semibold">Waiting for lesson...</p>
                    </div>

                    <div class="flex items-center gap-2">
                        <span class="text-xs">Video</span>
                        <input id="video-volume" type="range" min="0" max="1" step="0.05" value="1"
                            class="w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-xs">Narration</span>
                        <input id="narration-volume" type="range" min="0" max="1" step="0.05" value="1"
                            class="w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
                    </div>
                </div>
                <div id="progress-bar-container" class="w-full bg-gray-700 h-2">
                    <div id="progress-bar" class="bg-blue-500 h-2" style="width: 0%"></div>
                </div>
            </section>

            <!-- Error/Message Display Area -->
            <div id="error-display"
                class="hidden bg-red-500/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg relative mt-6"
                role="alert">
                <strong class="font-bold">Error: </strong>
                <span id="error-message" class="block sm:inline">Something went wrong.</span>
            </div>

        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>